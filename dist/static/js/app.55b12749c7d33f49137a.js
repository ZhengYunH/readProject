webpackJsonp([1],{"9qRL":function(t,e){},IvB0:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={};n.d(a,"login",function(){return nt}),n.d(a,"logout",function(){return at}),n.d(a,"changeText",function(){return it});var i={};n.d(i,"user",function(){return ot}),n.d(i,"textTitle",function(){return rt});var o=n("7+uW"),r=n("pFYg"),s=n.n(r),l=n("mtWM"),c=n.n(l),u=n("woOf"),d=n.n(u),p=n("Zrlr"),m=n.n(p),h=n("wxAW"),f=n.n(h),g=n("vMSS"),v=n.n(g),x=function(){function t(e,n){var a=this;m()(this,t),this.config={bufferLen:4096,numChannels:2,mimeType:"audio/mp3"},this.recording=!1,this.callbacks={getBuffer:[],exportWAV:[]},d()(this.config,n),this.context=e.context,this.node=(this.context.createScriptProcessor||this.context.createJavaScriptNode).call(this.context,this.config.bufferLen,this.config.numChannels,this.config.numChannels),this.node.onaudioprocess=function(t){if(a.recording){for(var e=[],n=0;n<a.config.numChannels;n++)e.push(t.inputBuffer.getChannelData(n));a.worker.postMessage({command:"record",buffer:e})}},e.connect(this.node),this.node.connect(this.context.destination);this.worker=new v.a(function(){var t=0,e=[],n=void 0,a=void 0;function i(){for(var t=0;t<a;t++)e[t]=[]}function o(t,e){for(var n=new Float32Array(e),a=0,i=0;i<t.length;i++)n.set(t[i],a),a+=t[i].length;return n}function r(t,e,n){for(var a=0;a<n.length;a++)t.setUint8(e+a,n.charCodeAt(a))}this.onmessage=function(s){switch(s.data.command){case"init":l=s.data.config,n=l.sampleRate,a=l.numChannels,i();break;case"record":!function(n){for(var i=0;i<a;i++)e[i].push(n[i]);t+=n[0].length}(s.data.buffer);break;case"exportWAV":!function(i){for(var s=[],l=0;l<a;l++)s.push(o(e[l],t));var c=void 0;c=2===a?function(t,e){var n=t.length+e.length,a=new Float32Array(n),i=0,o=0;for(;i<n;)a[i++]=t[o],a[i++]=e[o],o++;return a}(s[0],s[1]):s[0];var u=(p=c,m=new ArrayBuffer(44+2*p.length),h=new DataView(m),r(h,0,"RIFF"),h.setUint32(4,36+2*p.length,!0),r(h,8,"WAVE"),r(h,12,"fmt "),h.setUint32(16,16,!0),h.setUint16(20,1,!0),h.setUint16(22,a,!0),h.setUint32(24,n,!0),h.setUint32(28,4*n,!0),h.setUint16(32,2*a,!0),h.setUint16(34,16,!0),r(h,36,"data"),h.setUint32(40,2*p.length,!0),function(t,e,n){for(var a=0;a<n.length;a++,e+=2){var i=Math.max(-1,Math.min(1,n[a]));t.setInt16(e,i<0?32768*i:32767*i,!0)}}(h,44,p),h),d=new Blob([u],{type:i});var p,m,h;this.postMessage({command:"exportWAV",data:d})}(s.data.type);break;case"getBuffer":!function(){for(var n=[],i=0;i<a;i++)n.push(o(e[i],t));this.postMessage({command:"getBuffer",data:n})}();break;case"clear":t=0,e=[],i()}var l}},{}),this.worker.postMessage({command:"init",config:{sampleRate:this.context.sampleRate,numChannels:this.config.numChannels}}),this.worker.onmessage=function(t){var e=a.callbacks[t.data.command].pop();"function"==typeof e&&e(t.data.data)}}return f()(t,[{key:"record",value:function(){this.recording=!0}},{key:"stop",value:function(){this.recording=!1}},{key:"clear",value:function(){this.worker.postMessage({command:"clear"})}},{key:"getBuffer",value:function(t){if(!(t=t||this.config.callback))throw new Error("Callback not set");this.callbacks.getBuffer.push(t),this.worker.postMessage({command:"getBuffer"})}},{key:"exportWAV",value:function(t,e){if(e=e||this.config.mimeType,!(t=t||this.config.callback))throw new Error("Callback not set");this.callbacks.exportWAV.push(t),this.worker.postMessage({command:"exportWAV",type:e})}}],[{key:"forceDownload",value:function(t,e){var n=(window.URL||window.webkitURL).createObjectURL(t),a=window.document.createElement("a");a.href=n,a.download=e||"output.wav";var i=document.createEvent("Event");i.initEvent("click",!0,!0),a.dispatchEvent(i)}}]),t}(),y=n("7t+N"),b=n.n(y),_={data:function(){return{info:{},picIndex:1,audio_visible:!1,audio_replay_visible:!1,playRecordDisable:!0,state:!1,recordState:!1,recorder:null,blob:null,playControl:null,timeCount:0,loading:!0,RecordDisable:!0}},computed:{stateText:function(){return this.state?"暂停播放":"播放原文"},recordStateText:function(){return this.recordState?"暂停录制":"开始录制"}},methods:{setActiveItem:function(t){this.$refs.carousel.setActiveItem(t-1)},carouselChange:function(t,e){this.index=t},getInfo:function(){var t={user:this.$store.getters.user,title:this.$store.getters.textTitle},e=this;c.a.get("textPage.php",{params:t}).then(function(t){e.info=t.data;var n=document.getElementById("RecordAudio");n.addEventListener("canplaythrough",function(){e.loading=!1,e.playRecordDisable=!1,e.RecordDisable=!1},!1),n.addEventListener("error",function(){console.log("加载失败！")},!1)}).catch(function(t){e.$message("导入失败"),console.log(t)})},playRecord:function(){var t=document.getElementById("RecordAudio");this.audio_visible=!0,this.state?this.Pause():(this.state=!0,t.play(),this.picTran())},picTran:function(){var t=1e3*this.timeCount,e=0,n=1;for(n=0;n<this.info.text.length&&!(t<(e+=this.info.text[n].time));n++);n===this.info.text.length&&(this.setActiveItem(1),document.getElementById("RecordAudio").currentTime=0,this.picIndex=1,this.Pause());var a=e-t;this.playControl=setTimeout(this.picTranFun,a)},picTranFun:function(){(this.picIndex=this.picIndex+1,this.picIndex>this.info.text.length)?this.recordState?this.Pause():(this.setActiveItem(1),document.getElementById("RecordAudio").currentTime=0,this.picIndex=1,this.Pause()):(this.setActiveItem(this.picIndex),setTimeout(this.picTranFun,this.info.text[this.picIndex-1].time))},Pause:function(){this.playControl&&(clearInterval(this.playControl),this.playControl=null),this.state=!1;var t=document.getElementById("RecordAudio");t&&t.pause(),this.timeCount=t.currentTime},Record:function(){this.audio_visible=!1,this.audio_replay_visible=!1,this.playRecordDisable=!0,document.getElementById("RecordAudio").pause(),this.Pause(),this.picIndex=1,this.setActiveItem(1),0==this.recordState?(this.playControl=setTimeout(this.picTranFun,this.info.text[0].time),this.recordState=!0,this.recorder.record()):(this.recordState=!1,this.recorder.stop(),this.audio_replay_visible=!0,this.createDownloadLink(),this.recorder.clear())},upload:function(){this.uploadBlob("backend/upload.php",this.blob)},uploadBlob:function(t,e){var n=new FileReader,a=this;n.onload=function(e){var n=new FormData;n.append("user",a.$store.getters.user),n.append("textTitle",a.$store.getters.textTitle),n.append("data",e.target.result),b.a.ajax({type:"POST",url:t,data:n,processData:!1,contentType:!1}).done(function(t){var e=JSON.parse(t);console.log(e),console.log(void 0===e?"undefined":s()(e)),console.log(e[0]),e.success?a.$message("上传成功"):a.$message(t.message)})},n.readAsDataURL(e)},createDownloadLink:function(){var t=this;this.recorder&&this.recorder.exportWAV(function(e){t.blob=e;var n=URL.createObjectURL(e);RecordReplay.src=n})},initRecorder:function(){var t=this,e=new AudioContext;navigator.mediaDevices.getUserMedia({audio:!0}).then(function(n){var a=e.createMediaStreamSource(n);t.recorder=new x(a,{bufferLen:4096,numChannels:2,mimeType:"audio/mp3"})}).catch(function(t){console.log(t)})}},mounted:function(){this.getInfo(),this.initRecorder(),this.audio_visible=!1},beforeDestroy:function(){this.playControl&&(clearInterval(this.playControl),this.playControl=null)}},w={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"warpper"},[n("div",{staticClass:"br-template"}),t._v(" "),n("el-carousel",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"carousel",attrs:{height:"500px",autoplay:!1,arrow:"never",trigger:"click","indicator-position":"none"},on:{change:t.carouselChange}},t._l(t.info.text,function(t,e){return n("el-carousel-item",{key:e},[n("img",{attrs:{src:t.pic}}),n("br")])})),t._v(" "),n("div",{staticClass:"audioWarpper"},[n("audio",{attrs:{id:"RecordAudio",src:t.info.record}},[t._v("\n\t  \t您的浏览器不支持audio标签，请更换最新或其他浏览器。\n\t  ")]),n("br")]),t._v(" "),n("div",{staticClass:"buttonGroup"},[n("el-button",{attrs:{type:"primary",disabled:t.playRecordDisable},on:{click:t.playRecord}},[t._v(t._s(t.stateText))]),t._v(" "),n("el-button",{attrs:{type:"danger",disabled:t.RecordDisable},on:{click:t.Record}},[t._v(t._s(t.recordStateText))]),t._v(" "),n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.audio_replay_visible,expression:"audio_replay_visible"}],staticClass:"uploadButton",attrs:{type:"primary"},on:{click:t.upload}},[t._v("上传"),n("i",{staticClass:"el-icon-upload el-icon--right"})])],1),t._v(" "),n("audio",{attrs:{id:"RecordReplay",controls:t.audio_replay_visible,src:t.info.record}},[t._v("\n\t  \t您的浏览器不支持audio标签，请更换最新或其他浏览器。\n\t  ")])],1)},staticRenderFns:[]};var C=n("VU/8")(_,w,!1,function(t){n("nMUz")},null,null).exports,I={data:function(){return{currentDate:new Date,imgGroup:[]}},methods:{routerToTextPage:function(t){var e=t.srcElement.innerText;this.$store.dispatch("changeText",e),this.$router.push("/text-page")},getImage:function(){var t={user:this.$store.getters.user,page:1},e=this;c.a.get("textChoose.php",{params:t}).then(function(t){e.imgGroup=t.data}).catch(function(t){console.log(t)})}},mounted:function(){this.getImage()}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"br-template"}),t._v(" "),n("el-row",t._l(t.imgGroup,function(e,a){return n("el-col",{key:e.title,attrs:{span:4,offset:1}},[n("el-card",{attrs:{"body-style":{padding:"0px"}}},[n("img",{staticClass:"image",attrs:{src:e.pic}}),t._v(" "),n("div",{staticStyle:{padding:"14px","text-align":"center"}},[n("span",{staticClass:"textTitle"},[n("a",{on:{click:t.routerToTextPage}},[t._v(t._s(e.title))])])])])],1)}))],1)},staticRenderFns:[]};var T=n("VU/8")(I,k,!1,function(t){n("XaP5")},null,null).exports,$={data:function(){return{currentDate:new Date,imgGroup:[]}},methods:{routerToTextPage:function(t){var e=t.srcElement.innerText;this.$store.dispatch("changeText",e),this.$router.push("/personal-recording-page")},getImage:function(){var t={user:this.$store.getters.user,page:1},e=this;c.a.get("personalRecording.php",{params:t}).then(function(t){e.imgGroup=t.data}).catch(function(t){console.log(t)})}},mounted:function(){this.getImage()}},R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"br-template"}),t._v(" "),n("el-row",t._l(t.imgGroup,function(e,a){return n("el-col",{key:e.title,attrs:{span:4,offset:1}},[n("el-card",{attrs:{"body-style":{padding:"0px"}}},[n("img",{staticClass:"image",attrs:{src:e.pic}}),t._v(" "),n("div",{staticStyle:{padding:"14px","text-align":"center"}},[n("span",{staticClass:"textTitle"},[n("a",{on:{click:t.routerToTextPage}},[t._v(t._s(e.title))])])])])],1)}))],1)},staticRenderFns:[]};var A=n("VU/8")($,R,!1,function(t){n("qFy/")},null,null).exports,E={data:function(){return{info:{},picIndex:1,playRecordDisable:!1,state:!1,playControl:null,timeCount:0,loading:!0}},computed:{stateText:function(){return this.state?"暂停播放":"播放录音"}},methods:{setActiveItem:function(t){this.$refs.carousel.setActiveItem(t-1)},playRecord:function(){var t=document.getElementById("RecordAudio");this.audio_visible=!0,this.state?this.Pause():(this.state=!0,t.play(),this.picTran())},picTran:function(){var t=1e3*this.timeCount,e=0,n=1;for(n=0;n<this.info.text.length&&!(t<(e+=this.info.text[n].time));n++);n===this.info.text.length&&(this.setActiveItem(1),document.getElementById("RecordAudio").currentTime=0,this.picIndex=1,this.Pause());var a=e-t;this.playControl=setTimeout(this.picTranFun,a)},picTranFun:function(){(this.picIndex=this.picIndex+1,this.picIndex>this.info.text.length)?(this.setActiveItem(1),document.getElementById("RecordAudio").currentTime=0,this.picIndex=1,this.Pause()):(this.setActiveItem(this.picIndex),setTimeout(this.picTranFun,this.info.text[this.picIndex-1].time))},Pause:function(){this.playControl&&(clearInterval(this.playControl),this.playControl=null),this.state=!1;var t=document.getElementById("RecordAudio");t.pause(),this.timeCount=t.currentTime},carouselChange:function(t,e){this.index=t},getInfo:function(){var t={user:this.$store.getters.user,title:this.$store.getters.textTitle},e=this;c.a.get("personalRecordingPage.php",{params:t}).then(function(t){e.info=t.data;var n=document.getElementById("RecordAudio");n.addEventListener("canplaythrough",function(){e.loading=!1,e.playRecordDisable=!1},!1),n.addEventListener("error",function(){console.log("加载失败！")},!1),e.$message("成功导入")}).catch(function(t){e.$message("导入失败"),console.log(t)})}},mounted:function(){this.getInfo(),this.audio_visible=!1},beforeDestroy:function(){this.playControl&&(clearInterval(this.playControl),this.playControl=null)}},S={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"warpper"},[n("div",{staticClass:"br-template"}),t._v(" "),n("el-carousel",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"carousel",attrs:{height:"500px",autoplay:!1,arrow:"never",trigger:"click","indicator-position":"none"},on:{change:t.carouselChange}},t._l(t.info.text,function(t,e){return n("el-carousel-item",{key:e},[n("img",{attrs:{src:t.pic}}),n("br")])})),t._v(" "),n("div",{staticClass:"audioWarpper"},[n("audio",{attrs:{id:"RecordAudio",src:t.info.record}},[t._v("\n\t  \t您的浏览器不支持audio标签，请更换最新或其他浏览器。\n\t  ")]),n("br")]),t._v(" "),n("div",{staticClass:"buttonGroup"},[n("el-button",{attrs:{type:"primary",disabled:t.playRecordDisable},on:{click:t.playRecord}},[t._v(t._s(t.stateText))])],1)],1)},staticRenderFns:[]};var F=n("VU/8")(E,S,!1,function(t){n("QhMP")},null,null).exports,D={data:function(){return{upload_url:"aaa",uploadForm:new FormData,newform:{textName:"",file:[]}}},methods:{newSubmitForm:function(){var t=this;this.$refs.newform.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.uploadForm.append("textName",t.newform.textName),t.uploadForm.append("file[]",t.newform.file),t.newExp(t.uploadForm).then(function(e){400===e.code?t.$message.error(e.error):200===e.code&&t.$message.success("上传成功！")})})},newExp:function(t){return c()({method:"post",url:"uploadText.php",timeout:2e4,data:t})}}},U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"br-template"}),t._v(" "),n("el-form",{ref:"newform",attrs:{model:t.newform}},[n("el-form-item",{attrs:{prop:"textName",label:""}},[n("el-input",{staticStyle:{width:"75%"},attrs:{placeholder:"",placeholder:"请输入课文标题"},model:{value:t.newform.textName,callback:function(e){t.$set(t.newform,"textName",e)},expression:"newform.textName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"",prop:"textFile"}},[n("el-upload",{staticClass:"upload-demo",attrs:{action:t.upload_url,"file-list":t.newform.file,"auto-upload":!1,"list-type":"picture"}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1),t._v(" "),n("el-button",{staticClass:"yes-btn",attrs:{type:"primary"},on:{click:function(e){t.newSubmitForm()}}},[t._v("确 定")]),t._v(" "),n("el-button",{on:{click:function(e){t.resetForm("newform")}}},[t._v("重 置")])],1)],1)],1)},staticRenderFns:[]},L=n("VU/8")(D,U,!1,null,null,null).exports,P={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"br-template"}),t._v(" "),n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("简介")])]),t._v(" "),t._l(t.data,function(e,a){return n("div",{key:a,staticClass:"text item"},[t._v("\n\t\t    "+t._s(a+1)+" . "+t._s(e)+"\n\t\t  ")])})],2)],1)},staticRenderFns:[]};var B=n("VU/8")({data:function(){return{data:["始于1969年，伴随美国儿童成长的教育品牌","覆盖全球150个国家，影响1.56亿儿童成长","独有价值观课程帮助儿童健康成长，超过1000项学术研究证实课程的成效性","学龄前经常接触《芝麻街》的儿童比未接触的儿童，在高中时期的平均成绩高出16%","超过90%的父母反映《芝麻街》的课程内容使得孩子对数数、排序和配对的兴趣有了积极变化","接触《芝麻街》的四岁儿童比不接触的儿童的读写能力高67%","接触过《芝麻街》的儿童的亲社会行为水平比未接触的儿童高40%"]}}},P,!1,function(t){n("ty2p")},null,null).exports,N={data:function(){return{tableData:[],form:{name:"",password:""}}},methods:{getInfo:function(){var t=this;c.a.get("studentInfo.php",{params:{}}).then(function(e){t.tableData=e.data}).catch(function(e){t.$message("导入失败")})},onSubmit:function(){var t={name:this.form.name,password:this.form.password},e=this;c.a.get("addStudentInfo.php",{params:t}).then(function(t){t.data.success?(e.$message("成功导入信息"),e.getInfo()):e.$message(t.data.message)}).catch(function(t){e.$message(t)})},deleteData:function(t){var e={name:t.name},n=this;c.a.get("deleteStudentInfo.php",{params:e}).then(function(t){t.data.success?(n.$message("成功删除"),n.getInfo()):n.$message(t.data.message)}).catch(function(t){n.$message(t)})}},mounted:function(){this.getInfo()}},M={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"br-template"}),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"max-height":"90%"}},[n("el-table-column",{attrs:{prop:"date",label:"日期",width:"180",sortable:""}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180",sortable:""}}),t._v(" "),n("el-table-column",{attrs:{prop:"password",label:"密码"}}),t._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){t.deleteData(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"名字"}},[n("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("创建学生信息")])],1)],1)],1)},staticRenderFns:[]};var V=n("VU/8")(N,M,!1,function(t){n("lI/E")},null,null).exports,O={data:function(){return{tableData:[]}},methods:{getInfo:function(){var t=this;c.a.get("ApplyInfo.php",{params:{}}).then(function(e){console.log(e.data),t.tableData=e.data}).catch(function(e){t.$message("导入失败")})},deleteData:function(t){var e={name:t.name},n=this;c.a.get("deleteApplyInfo.php",{params:e}).then(function(t){t.data.success?(n.$message("成功删除"),n.getInfo()):n.$message(t.data.message)}).catch(function(t){n.$message(t)})}},mounted:function(){this.getInfo()}},G={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"br-template"}),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"max-height":"90%"}},[n("el-table-column",{attrs:{prop:"date",label:"日期",width:"180",sortable:""}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180",sortable:""}}),t._v(" "),n("el-table-column",{attrs:{prop:"phone",label:"电话"}}),t._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){t.deleteData(e.row)}}},[t._v("删除")])]}}])})],1)],1)},staticRenderFns:[]};var W=n("VU/8")(O,G,!1,function(t){n("Sfmf")},null,null).exports,j={name:"App",data:function(){return{activeIndex:"0",logoUrl:"/static/logo.png"}},computed:{userTip:function(){return this.$store.getters.user?"你好,"+this.$store.getters.user:""},isAdmin:function(){return"admin"===this.$store.getters.user}},components:{textPage:C,textChoose:T,personalRecording:A,personalRecordingPage:F,uploadText:L,introduce:B,studentManage:V,"apply-info":W},methods:{logout:function(){this.$store.dispatch("logout"),this.$router.push("/login")},checkLogin:function(){this.$store.getters.user||"apply"==this.$route.name||"introduce"==this.$route.name||this.$router.push("/login")}},created:function(){this.$router.push("/introduce"),this.checkLogin()},watch:{$route:"checkLogin"}},q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"app-wrapper"},[n("el-header",[n("el-menu",{attrs:{mode:"horizontal","default-active":t.activeIndex}},[n("el-menu-item",{attrs:{index:"0"}},[n("router-link",{attrs:{to:"/introduce"}},[n("img",{attrs:{src:t.logoUrl,height:"80%"}})])],1),t._v(" "),n("el-menu-item",{attrs:{index:"1"}},[n("router-link",{attrs:{to:"/text-choose"}},[t._v("选择课文")])],1),t._v(" "),n("el-menu-item",{attrs:{index:"2"}},[n("router-link",{attrs:{to:"/personal-recording"}},[t._v("个人录音")])],1),t._v(" "),n("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:t.isAdmin,expression:"isAdmin"}],attrs:{index:"3"}},[n("router-link",{attrs:{to:"/upload-text"}},[t._v("上传(待上线)")])],1),t._v(" "),n("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:t.isAdmin,expression:"isAdmin"}],attrs:{index:"4"}},[n("router-link",{attrs:{to:"/student-manage"}},[t._v("学员信息管理")])],1),t._v(" "),n("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:t.isAdmin,expression:"isAdmin"}],attrs:{index:"5"}},[n("router-link",{attrs:{to:"/apply-info"}},[t._v("申请信息管理")])],1),t._v(" "),n("el-menu-item",{attrs:{index:"6"}},[n("a",{on:{click:t.logout}},[t._v("注销")])]),t._v(" "),n("div",{staticClass:"menu-right"},[t._v("\n          "+t._s(t.userTip)+"\n        ")])],1)],1),t._v(" "),n("el-container",[n("el-main",[n("router-view")],1)],1)],1)},staticRenderFns:[]};var z=n("VU/8")(j,q,!1,function(t){n("ePhl")},null,null).exports,H=n("/ocq"),X={data:function(){return{logining:!1,user:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},checked:!0}},methods:{handleSubmit:function(t){var e=this,n=this,a={username:this.user.username,password:this.user.password};this.$refs.user.validate(function(t){if(!t)return!1;e.logining=!0,c.a.get("login.php",{params:a}).then(function(t){if(1==t.data.success){var e=n.user.username;n.$store.commit("LOGIN",e),n.$router.push({path:"/introduce"}),n.logining=!1}else n.$message({message:t.data.message,type:"error"}),n.logining=!1}).catch(function(t){console.log(t),n.logining=!1})})},apply:function(){this.$router.push("/apply")}}},J={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-wrapper"},[n("div",{staticClass:"login-br"}),t._v(" "),n("el-form",{ref:"user",staticClass:"demo-ruleForm login-container",attrs:{model:t.user,rules:t.rules,"label-position":"left","label-width":"0px"}},[n("h3",{staticClass:"title"},[t._v("Login")]),t._v(" "),n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"Username"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),t._v(" "),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"Password"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),t._v(" "),n("el-form-item",{staticStyle:{width:"100%"}},[n("el-button",{staticStyle:{width:"45%","margin-left":"2%"},attrs:{type:"primary",loading:t.logining},nativeOn:{click:function(e){e.preventDefault(),t.handleSubmit(e)}}},[t._v("Login")]),t._v(" "),n("el-button",{staticStyle:{width:"45%"},attrs:{type:"primary"},on:{click:t.apply}},[t._v("Apply")])],1)],1)],1)},staticRenderFns:[]};var Q=n("VU/8")(X,J,!1,function(t){n("9qRL")},null,null).exports,Y={data:function(){return{user:{username:"",phone:""}}},methods:{submit:function(){var t={name:this.user.username,phone:this.user.phone},e=this;c.a.get("Apply.php",{params:t}).then(function(t){(t=t.data).success?e.$message({message:"成功申请，等待管理员审核",type:"success"}):e.$message("error: "+t.message)}).catch(function(t){console.log(t)})}}},Z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"apply-wrapper"},[n("div",{staticClass:"apply-main"}),t._v(" "),n("div",{staticClass:"apply-input"},[n("el-input",{staticClass:"apply-inputStyle",staticStyle:{width:"36%"},attrs:{type:"text",placeholder:"姓名"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}}),t._v(" "),n("el-input",{staticClass:"apply-inputStyle",staticStyle:{"margin-left":"2%",width:"36%"},attrs:{type:"text",placeholder:"联系方式"},model:{value:t.user.phone,callback:function(e){t.$set(t.user,"phone",e)},expression:"user.phone"}}),t._v(" "),n("el-button",{staticStyle:{"margin-left":"4%"},attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")])],1)])},staticRenderFns:[]};var K=n("VU/8")(Y,Z,!1,function(t){n("IvB0")},null,null).exports;o.default.use(H.a);var tt=new H.a({routes:[{path:"/login",name:"login",component:Q,meta:{title:"登录"},hidden:!0},{path:"/text-choose",name:"textChoose",component:T,meta:{title:"选择课文"}},{path:"/text-page",name:"textPage",component:C,meta:{title:"芝麻街英语"}},{path:"/personal-recording",name:"personalRecording",component:A,meta:{title:"个人录音"}},{path:"/personal-recording-page",name:"personalRecordingPage",component:F,meta:{title:"芝麻街英语"}},{path:"/upload-text",name:"uploadText",component:L,meta:{title:"上传课文"}},{path:"/introduce",name:"introduce",meta:{title:"芝麻街英语"},component:B},{path:"/student-manage",name:"studentManage",component:V,meta:{title:"学生管理"}},{path:"/apply",name:"apply",component:K,meta:{title:"注册"},hidden:!0},{path:"/apply-info",name:"applyInfo",component:W,meta:{title:"查看注册信息"}}]}),et=n("NYxO"),nt=function(t,e){(0,t.commit)("LOGIN",e)},at=function(t){(0,t.commit)("LOGOUT")},it=function(t,e){(0,t.commit)("CHANGE_TEXT",e)},ot=function(t){return t.user},rt=function(t){return t.textTitle},st=n("bOdI"),lt=n.n(st),ct=n("//Fk"),ut=n.n(ct);n("fZjL");c.a.defaults.timeout=5e4,c.a.defaults.baseURL="/backend/",c.a.defaults.headers={accept:"application/json","Content-Type":"application/json"},c.a.interceptors.request.use(function(t){return t},function(t){return ut.a.reject(t)}),c.a.interceptors.response.use(function(t){return t},function(t){return ut.a.reject(t)});c.a;var dt,pt=(dt={},lt()(dt,"LOGIN",function(t,e){t.user=e}),lt()(dt,"LOGOUT",function(t){t.user=null}),lt()(dt,"CHANGE_TEXT",function(t,e){t.textTitle=e}),dt);o.default.use(et.a);var mt=new et.a.Store({state:{user:"",textTitle:null},mutations:pt,actions:a,getters:i,modules:{}}),ht=n("zL8q"),ft=n.n(ht);n("tvR6");o.default.config.productionTip=!1,o.default.use(ft.a),tt.beforeEach(function(t,e,n){window.document.title=t.meta.title,n()}),new o.default({el:"#app",render:function(t){return t(z)},router:tt,store:mt,components:{App:z},template:"<App/>"})},QhMP:function(t,e){},Sfmf:function(t,e){},XaP5:function(t,e){},ePhl:function(t,e){},"lI/E":function(t,e){},nMUz:function(t,e){},"qFy/":function(t,e){},tvR6:function(t,e){},ty2p:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.55b12749c7d33f49137a.js.map